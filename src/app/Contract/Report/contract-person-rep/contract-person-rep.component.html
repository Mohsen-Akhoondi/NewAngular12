<div id="container" class="row" style="clear: both ; ">
  <div id="content" style="width: 100%;height: 99%;">
    <div [ngClass]="{'disable-parent': !IsDown}" id="mainformbody" class="main-form-body" [style.height.%]="87"
      style="margin: 5px; padding:2px 10px">
      <div id="tabcontent" class="tab-content" style="margin-top: 5px;" [style.height.%]="100">
        <fieldset class="feild-set" style="display: inherit">
          <table style="width: 100%;">
            <tr>
              <td style="width: 33%;">
                <span class="table-cell-Lable">واحد اجرایی</span>
                <app-ng-select-virtual-scroll style="display: inline-block;width: 75%;" class="select-general-for-lable"
                  [NgSelectParams]="RegionParams" (selectedChange)="onChangeRegion($event)" [Items]="RegionItems">
                </app-ng-select-virtual-scroll>
              </td>
              <td style="width: 33%;">
                <span class="table-cell-Lable">از قرارداد</span>
                <app-ng-select-virtual-scroll style="display: inline-block;width: 75%;" class="select-general-for-lable"
                  [NgSelectParams]="FromContractParams" [Items]="FromContractItems"
                  (FetchMore)="FetchMoreFromContract($event)" (doSearch)="doFromContractSearch($event)"
                  (selectedChange)="onChangeFromContract($event)">
                </app-ng-select-virtual-scroll>
              </td>
              <td style="width: 33%;">
                <span class="table-cell-Lable">تا</span>
                <app-ng-select-virtual-scroll style="display: inline-block;width: 75%;" class="select-general-for-lable"
                  [NgSelectParams]="ToContractParams" [Items]="ToContractItems"
                  (FetchMore)="FetchMoreToContract($event)" (doSearch)="doToContractSearch($event)"
                  (selectedChange)="onChangeToContract($event)">
                </app-ng-select-virtual-scroll>
              </td>
            </tr>
            <tr>
              <td style="width: 33%;">
                <span class="table-cell-Lable">شماره نامه</span><input style="width: 75%; "
                  class="form-control input-style" type="text" name="first" [(ngModel)]="LetterNo"
                  (getValue)="getLetterNo($event)" />
              </td>

              <td style="width: 33%">
                <span class="table-cell-Lable">از نقش</span>
                <app-ng-select-virtual-scroll style="display: inline-block;width: 75%;" class="select-general-for-lable"
                  [NgSelectParams]="FromRoleParams" (selectedChange)="onChangeFromRole($event)" [Items]="FromRoleItems">
                </app-ng-select-virtual-scroll>
              </td>
              <td style="width: 33%">
                <span class="table-cell-Lable">تا</span>
                <app-ng-select-virtual-scroll style="display: inline-block;width: 75%;" class="select-general-for-lable"
                  [NgSelectParams]="ToRoleParams" (selectedChange)="onChangeToRole($event)" [Items]="ToRoleItems">
                </app-ng-select-virtual-scroll>
              </td>
            </tr>
            <tr>

              <td style="width: 100%; padding-right: 47%; padding-top: 10px;" colspan="3">
                <button (click)="onSearch()" id="btn2"
                  class="select-general-for-lable btn-gray-border btn btn-primary btnGreen">
                  <img width="15px" height="15px" src="assets/Icons/search.png" />
                  جستجو
                </button>
              </td>
            </tr>
          </table>
        </fieldset>

        <div style="width: 100%; border-radius: 5px; border: 1px solid rgb(204, 204, 204);" [style.height.%]="73">
          <!-- اطلاعات قرارداد  -->
          <app-grid (RowClick)="RowClick()" [columns]="ContractInfoCol" [defaultSelectedRowIndex]="0"
            [rowsData]="ContractInfoList" (GridReady)="onGridReadyContractInfo($event)" [gridHeightPxel]="333">
          </app-grid>
        </div>

      </div>
    </div>

    <div class="buttons-place" style="margin: unset; margin: 5px;">
      <button id="btnPrint" (click)="onPrint()" class="btn btn-primary btnGreen">
        <img width="15px" height="15px" src="assets/Icons/print.png" />
        چاپ
      </button>
      <button (click)="onClose()" class="btn btn-primary btnGreen">
        <img width="15px" height="15px" src="assets/Icons/exit.png" />
        خروج
      </button>
    </div>
  </div>
</div>

<ng-template #IsHavePersonValid let-row>
  <img width="16px" height="16px" [src]="row.HavePerson ? 'assets/Icons/TrueCheckBox.png':'assets/Icons/uncheck.png'" />
</ng-template>

<app-over-popup *ngIf="btnclicked" [PopupType]="type" [startLeftPosition]="OverstartLeftPosition"
  [startTopPosition]="OverstartTopPosition" [PopupParam]="alertMessageParams" (popupclosed)="popupclosed($event)">
</app-over-popup>